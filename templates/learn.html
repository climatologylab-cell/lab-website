{% extends 'base.html' %}
{% load static %}

{% block title %}Learn - Climatology Lab{% endblock %}

{% block content %}



<!-- Search & Filter Bar -->
{% include 'includes/search_filter_bar.html' with search_placeholder="Search resources..." page_title=page_title|default:"Learning Resources" %}
{% include 'includes/search_filter_bar.html' with search_placeholder="Search resources..." page_title=page_title|default:"Learning Resources" %}
<!-- Featured Course Section -->
{% if featured_courses %}
<section class="section">
    <div class="container">
        <h2 class="section-title">Featured Courses</h2>

        <div class="grid grid-2">
            {% for course in featured_courses %}
            <div class="course-card">
                <div class="course-icon">
                    <svg width="50" height="50" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="1.5">
                        <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z" />
                        <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z" />
                    </svg>
                </div>

                <div class="course-content">
                    <h3>{{ course.title }}</h3>
                    <p>{{ course.description }}</p>

                    <div class="course-stats">
                        <span>{{ course.lessons_count }} Lessons</span>
                        <span>{{ course.duration }}</span>
                        <span>{{ course.level }}</span>
                    </div>

                    <a href="{% url 'core:course_detail' course.id %}" class="btn btn-secondary">View Course</a>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<style>
    /* Section Spacing */
    /* Section Spacing */
    .section {
        padding: 0 0 40px;
    }

    .section-title {
        margin-top: 0;
    }

    /* Category Tabs */
    .category-tabs {
        display: flex;
        gap: 12px;
        justify-content: center;
        flex-wrap: wrap;
    }

    .tab-btn {
        padding: 12px 28px;
        background: white;
        border: 2px solid var(--color-gray);
        border-radius: var(--radius-pill);
        font-size: 14px;
        font-weight: var(--font-weight-bold);
        color: var(--color-text-primary);
        text-transform: uppercase;
        letter-spacing: 0.5px;
        transition: all var(--transition-normal);
    }

    .tab-btn:hover {
        border-color: var(--color-yellow);
        background: #FFF9E6;
    }

    .tab-btn.active {
        background: var(--color-yellow);
        border-color: var(--color-yellow);
        color: var(--color-text-primary);
    }

    /* Resource Card Enhancements */
    .resource-card .card-image {
        height: 220px;
    }

    .placeholder-thumb {
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(135deg, #F8F9FA 0%, #E8E8E8 100%);
        color: var(--color-gray-dark);
    }

    .badge-video {
        background: #E74C3C;
    }

    .badge-article {
        background: var(--color-blue);
    }

    .badge-tutorial {
        background: var(--color-yellow);
        color: var(--color-text-primary);
    }

    .badge-dataset {
        background: var(--color-green);
    }

    .duration-badge {
        position: absolute;
        bottom: 12px;
        left: 12px;
        padding: 5px 12px;
        background: rgba(0, 0, 0, 0.75);
        color: white;
        border-radius: 15px;
        font-size: 12px;
        font-weight: var(--font-weight-bold);
    }

    /* Resource Meta */
    .resource-meta {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
        margin-bottom: 18px;
    }

    .meta-tag {
        padding: 4px 12px;
        background: var(--color-gray-light);
        color: var(--color-text-secondary);
        border-radius: 15px;
        font-size: 11px;
        font-weight: var(--font-weight-medium);
        text-transform: uppercase;
    }

    .meta-level {
        background: #E8F4FD;
        color: var(--color-blue);
    }

    /* Course Cards */
    .course-card {
        background: white;
        border-radius: var(--radius-lg);
        padding: 40px;
        border: 2px solid var(--color-gray);
        display: flex;
        gap: 30px;
        align-items: flex-start;
        transition: all var(--transition-slow);
    }

    .course-card:hover {
        transform: translateY(-8px);
        box-shadow: var(--shadow-xl);
        border-color: var(--color-yellow);
    }

    .course-icon {
        width: 80px;
        height: 80px;
        background: linear-gradient(135deg, #FFF9E6 0%, #F1C40F 100%);
        border-radius: var(--radius-md);
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
    }

    .course-icon svg {
        stroke: #B8860B;
    }

    .course-content h3 {
        font-size: 24px;
        font-weight: var(--font-weight-bold);
        color: var(--color-navy);
        margin-bottom: 12px;
    }

    .course-content p {
        font-size: 15px;
        color: var(--color-text-secondary);
        line-height: 1.7;
        margin-bottom: 18px;
    }

    .course-stats {
        display: flex;
        gap: 20px;
        margin-bottom: 22px;
        flex-wrap: wrap;
    }

    .course-stats span {
        font-size: 13px;
        color: var(--color-text-light);
        display: flex;
        align-items: center;
        gap: 6px;
    }

    .course-stats span::before {
        content: "â€¢";
        color: var(--color-yellow);
        font-size: 18px;
    }

    .no-resources {
        grid-column: 1 / -1;
        text-align: center;
        padding: 80px 20px;
        color: var(--color-text-light);
        font-size: 18px;
    }

    /* Responsive */
    @media (max-width: 768px) {
        .course-card {
            flex-direction: column;
            padding: 30px;
        }

        .course-icon {
            width: 70px;
            height: 70px;
        }
    }
</style>

<script>
    function filterByCategory(category) {
        const cards = document.querySelectorAll('.resource-card');
        const tabs = document.querySelectorAll('.tab-btn');

        // Update active tab
        tabs.forEach(tab => tab.classList.remove('active'));
        event.target.classList.add('active');

        // Filter cards
        cards.forEach(card => {
            const cardCategory = card.getAttribute('data-category');

            if (category === 'all' || cardCategory === category) {
                card.style.display = 'block';
                card.style.animation = 'fadeIn 0.5s ease';
            } else {
                card.style.display = 'none';
            }
        });
    }
</script>
{% endblock %}